---
import { ChevronLeft, ChevronRight } from "lucide-react";
import BaseLayout from "./BaseLayout.astro";
import { ButtonLink } from "@/components/ui/button-link";

type Props = {
  title?: string;
  prev?: string;
  next?: string;
};

const { title, prev, next } = Astro.props;
---

<BaseLayout {title}>
  <div class="flex flex-1 my-0">
    {/* Left Sidebar (Desktop only) */}
    <div class="sticky top-32 h-fit w-9 mx-8 mt-14 hidden md:block">
      {
        prev && (
          <ButtonLink variant="outline" size="icon" href={prev}>
            <ChevronLeft />
          </ButtonLink>
        )
      }
    </div>

    <div class="flex-1 overflow-y-auto md:mb-150 mx-4 md:mx-0">
      {/* Main Content */}
      <slot />
    </div>

    {/* Right Sidebar (Desktop only) */}
    <div class="sticky top-32 h-fit w-9 mx-8 mt-14 hidden md:block">
      {
        next && (
          <ButtonLink variant="outline" size="icon" href={next}>
            <ChevronRight />
          </ButtonLink>
        )
      }
    </div>
  </div>

  {/* Bottom Navigation (Mobile only) */}
  <div
    class="sticky bottom-0 left-0 right-0 z-50 flex p-4 justify-between md:hidden"
  >
    {
    prev && (
        <ButtonLink className="border border-muted-foreground" variant="secondary" size="icon" href={prev}>
          <ChevronLeft />
        </ButtonLink>
      )
    }
    <div class="flex-1"></div>
    {
      next && (
        <ButtonLink className="border border-muted-foreground" variant="secondary" size="icon" href={next}>
          <ChevronRight />
        </ButtonLink>
      )
    }
  </div>
</BaseLayout>
